## 2021.09.02 실전자바개발 6장



1. 설계 개요 

   - 클라이언트 - 서버 모델

     - ![image](https://user-images.githubusercontent.com/58154633/132376494-393f56f8-f394-4751-87ab-eb4cc3980ee9.png)

     - 컴퓨터를 두 그룹으로 나누고, 클라이언트는 서비스를 사용하는 그룹이고, 서버는 관련 서비스를 제공하는 그룹이다.

     - 주로 클라이언트는 웹 사이트, 스마트폰 응용프로그램을 말하며 서버와 통신하는 UI를 제공한다

     - 서버는 대부분의 비즈니스 로직을 처리하고 다양한 클라이언트로부터 데이터를 받거나 전송한다

       <br>

   - 클라이언트 서버 모델 - 풀 기반(pull based)

     - ![image](https://user-images.githubusercontent.com/58154633/132376513-be2afb73-1cc4-44b6-8a65-90a049139f54.png)

     - 대부분의 웹에서 풀 기반(pull based) 통신을 사용하고, point-to-point나 request-response 통신으로도 불린다

     - 클라이언트가 서버로 HTTP 요청을 보내서 페이지의 데이터를 가져오는 방식 

       <br>

   - 클라이언트 서버 모델 - 푸시 기반(push based)

     - ![image](https://user-images.githubusercontent.com/58154633/132376529-58f84686-0908-4172-9fbb-35d2c92b3a31.png)

     - 작성자(publisher)가 방출한 이벤트 스트림을 여러 구독자가 수신하는 방식이다

     - 일대일/일대다 통신 모두 지원하므로 여러 컴포넌트 간에 다양한 이벤트의 의사소통이 일어날 때 유용하다

     - 요즘 대세인 모델, reactive나 이벤트 주도(event-driven) 통신으로도 불린다

       <br>

       <br>

       <br>

2. 이벤트에서 설계까지

   - 통신

     - 웹소켓(Web Socket)

       - TCP 스트림으로 양방향 이벤트 통신을 지원하는 가벼운 통신 프로토콜이다 

       - 최신 브라우저에서 지원하는 웹 서버와 웹 브라우저 사이의 이벤트 주도 통신에 주로 사용된다

         <br>

   - 육각형 아키텍쳐

     - ![image](https://user-images.githubusercontent.com/58154633/132376540-aaf6462a-8a19-4761-9631-5ba6acac4e2d.png)

     - 개념 (참조: [링크](https://engineering.linecorp.com/ko/blog/port-and-adapter-architecture/))

       - 육각형 설계(Hexagonal Architecture)로 더 잘 알려져 있는 [포트와 어댑터 설계(Ports and Adapters Architecture)](https://alistair.cockburn.us/hexagonal-architecture/)는, 인터페이스나 기반 요소(infrastructure)의 변경에 영향을 받지 않는 핵심 코드를 만들고 이를 견고하게 관리하는 것이 목표
       - 앨리스터 콕번이 정립한 `육각형 아키텍쳐`는 `포트와 어댑터`라고도 불린다

     - 특징

       - 코어 비즈니스 로직과 분리하려는 특정 기술이 있다면 포트(port)를 이용한다
         - 포트는 인터페이스를 의미한다
       - 외부 이벤트는 포트를 통해 코어 비즈니스 로직으로 전달된다
       - 어댑터(adapter)는 포트로 연결하는 특정 기술을 이용한 구현코드다
         - 어댑터는 클라이언트에 제공해야 할 인터페이스를 따르면서도 내부 구현은 서버의 인터페이스로 위임하는 것

     - 프로그램의 유지 보수를 편하게 하고, 미래에 변화할 응용프로그램의 기능을 확장 개발하기 위함이다

       <br>

       <br>

       <br>

3. 비밀 번호와 보안

   - 해시(Hash)
     - 개념
       - 해시 함수(해시 알고리즘)를 이용하여 해시값, 다이제스트(Digest) 라고 불리는 고정된 길이의 암호화된 문자열로 바꿔 버리는 해시를 이용한 암호화 기법
     - 특징
       - 해시 알고리즘은 특정 입력 대해 항상 같은 해시 값을 리턴한다. 이를 이용해서 `인증`을 할 수 있다
     - 인증 과정(Authentication)
       - 사용자가 계정을 생성한다.
       - 사용자의 비밀번호는 해싱되어 데이터베이스에 저장된다. 원본 패스워드는 하드 디스크 어디에도 기록되지 않는다.
       - 사용자가 로그인을 시도 할 때 사용자가 입력한 패스워드의 해시값이 데이터베이스에 저장된 값과 동일 한지 비교 한다.
       - 만약 해시값이 동일하면, 사용자는 로그인에 성공하고 아니면 잘못된 값을 입력했다고 알려준다.
       - 로그인을 계속 시도 하는경우 3~4번 과정을 반복한다.
   - 솔트(Salt)
     - 개념
       - 일종의 랜덤 텍스트로, 사용하는 주된 목적은 비밀번호에 솔트를 섞은 후 함께 해시하여 레인보우 테이블 자체를 무의미하게 만드는 것
     - 특징
       - 무작위 문자열을 비밀번호를 해싱하기 전에 붙여서 해쉬 값을 무작위로 만들 수 있다. 인증을 진행할 때 비밀번호가 동일한지 확인을 하기 위해서는 솔트값이 필요 한데 이 값은 보통 사용자 계정을 저장하는 데이터베이스에 비밀번호 해쉬값과 같이 있거나 해쉬값으로 변환 되어 저장하고 있다. 
       - 참고로 솔트값을 넣는 방법은 다양하다. (비밀번호 양쪽에 솔트값을 넣고 해시함수를 수행하는 방법, 한쪽에 넣고 해시함수를 수행한다음 다시 솔트값을 넣고 수행하는 방법등)
       - 따라서 솔트값을 알아도 해커가 운이 정말 좋아도 한 명정도의 개인정보를 알아갈 뿐, 개인정보 유출사태는 일어나지 않게 된다.

